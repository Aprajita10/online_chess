{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aprajita rtm\\\\Desktop\\\\chess\\\\chess_app\\\\chess_game\\\\src\\\\Boardsquare.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Square from './Square';\nimport Piece from './Piece';\nimport { useDrop } from 'react-dnd';\nimport { handleMove } from './Game';\nimport { gameSubject } from './Game';\nimport Promote from './Promote';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BoardSquare({\n  piece,\n  black,\n  position\n}) {\n  _s();\n\n  const [promotion, setPromotion] = useState(null);\n  const [, drop] = useDrop({\n    accept: 'piece',\n    drop: item => {\n      const [fromPosition] = item.id.split('_');\n      handleMove(fromPosition, position);\n    }\n  });\n  useEffect(() => {\n    const subscribe = gameSubject.subscribe(({\n      pendingPromotion\n    }) => {\n      pendingPromotion && pendingPromotion.to === position ? setPromotion(pendingPromotion) : setPromotion(null);\n    });\n    return () => subscribe.unsubscribe();\n  }, [position]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"board-square\",\n    ref: drop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BoardSquare, \"ouChsd7HrQHrspsKo4wmmdWSz4g=\", false, function () {\n  return [useDrop];\n});\n\n_c = BoardSquare;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardSquare\");","map":{"version":3,"sources":["C:/Users/aprajita rtm/Desktop/chess/chess_app/chess_game/src/Boardsquare.js"],"names":["React","useEffect","useState","Square","Piece","useDrop","handleMove","gameSubject","Promote","BoardSquare","piece","black","position","promotion","setPromotion","drop","accept","item","fromPosition","id","split","subscribe","pendingPromotion","to","unsubscribe"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,OAAT,QAAuB,WAAvB;AACA,SAAQC,UAAR,QAAyB,QAAzB;AACA,SAAQC,WAAR,QAA0B,QAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,eAAe,SAASC,WAAT,CAAqB;AAACC,EAAAA,KAAD;AAAOC,EAAAA,KAAP;AAAaC,EAAAA;AAAb,CAArB,EAA4C;AAAA;;AACvD,QAAM,CAACC,SAAD,EAAWC,YAAX,IAAyBZ,QAAQ,CAAC,IAAD,CAAvC;AACA,QAAM,GAAEa,IAAF,IAAQV,OAAO,CAAC;AAClBW,IAAAA,MAAM,EAAE,OADU;AAElBD,IAAAA,IAAI,EAAEE,IAAD,IAAS;AACV,YAAM,CAACC,YAAD,IAAeD,IAAI,CAACE,EAAL,CAAQC,KAAR,CAAc,GAAd,CAArB;AACAd,MAAAA,UAAU,CAACY,YAAD,EAAeN,QAAf,CAAV;AAAmC;AAJrB,GAAD,CAArB;AAOAX,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMoB,SAAS,GAAGd,WAAW,CAACc,SAAZ,CAAsB,CAAC;AAACC,MAAAA;AAAD,KAAD,KAAwB;AAC9DA,MAAAA,gBAAgB,IAAIA,gBAAgB,CAACC,EAAjB,KAAwBX,QAA5C,GAAwDE,YAAY,CAACQ,gBAAD,CAApE,GAAyFR,YAAY,CAAC,IAAD,CAArG;AACD,KAFiB,CAAlB;AAGA,WAAO,MAAMO,SAAS,CAACG,WAAV,EAAb;AACH,GALQ,EAKP,CAACZ,QAAD,CALO,CAAT;AAMA,sBACI;AAAK,IAAA,KAAK,EAAC,cAAX;AAA0B,IAAA,GAAG,EAAEG;AAA/B;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;GAtBuBN,W;UAENJ,O;;;KAFMI,W","sourcesContent":["import React, { useEffect,useState } from 'react';\r\nimport Square from './Square';\r\nimport Piece from './Piece';\r\nimport { useDrop} from 'react-dnd'\r\nimport {handleMove} from './Game'\r\nimport {gameSubject} from './Game'\r\nimport Promote from './Promote'\r\n\r\nexport default function BoardSquare({piece,black,position}){\r\n    const [promotion,setPromotion]=useState(null)\r\n    const [,drop]=useDrop({\r\n        accept: 'piece',\r\n        drop:(item)=> {\r\n            const [fromPosition]=item.id.split('_')\r\n            handleMove(fromPosition, position)},\r\n\r\n    })\r\n    useEffect(()=>{\r\n        const subscribe = gameSubject.subscribe(({pendingPromotion}) => {\r\n          pendingPromotion && pendingPromotion.to === position ?  setPromotion(pendingPromotion) : setPromotion(null)\r\n        })\r\n        return () => subscribe.unsubscribe()\r\n    },[position])\r\n    return (\r\n        <div class=\"board-square\" ref={drop}> \r\n             {\r\n                 \r\n             }\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}